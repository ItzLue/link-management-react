(this["webpackJsonplink-management-react"]=this["webpackJsonplink-management-react"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(42),s=n.n(a),i=(n(104),n(105),n(8)),o=n.n(i),l=n(5),d=n(17),j=n(11),p=n(63),b=n(28),u=n(10),m=n(2),x=[{title:"Video",path:"video"},{title:"Framing",path:"framing"},{title:"Encryption",path:"encryption"}],h=function(e){var t=e.title,n=e.path,r=e.videoData,c=e.framingData,a=e.encryptionData;return Object(m.jsx)(b.b,{to:n,children:Object(m.jsxs)("div",{className:"rounded-2xl border border-gray-100 shadow-md h-48 max-h-48 md:p-8 relative",children:[Object(m.jsx)("h2",{className:"font-medium text-lg",children:t}),"video"===n&&g(r),"framing"===n&&O(c),"encryption"===n&&v(a),Object(m.jsxs)("div",{className:"flex flex-col absolute bottom-0 m-2",children:[Object(m.jsx)("hr",{className:"border-gray-100 w-full"}),Object(m.jsxs)("div",{className:"inline-flex items-center text-gray-500",children:[Object(m.jsx)(p.f,{className:"h-4 w-4 mr-2"}),Object(m.jsx)("p",{children:"Last updated: 5 min ago"})]})]})]})})},f=function(e){var t=e.videoData,n=e.framingData,r=e.encryptionData;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"grid grid-rows-1 md:grid-flow-col px-8 gap-8 h-full py-8",children:x.map((function(e,c){return Object(m.jsx)(h,{title:e.title,path:e.path,videoData:t,framingData:n,encryptionData:r},c)}))})})},g=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Ping: ",null===e||void 0===e?void 0:e.ping]}),Object(m.jsxs)("p",{children:["Bitrate: ",null===e||void 0===e?void 0:e.bitrate]}),Object(m.jsxs)("p",{children:["Proctol: ",null===e||void 0===e?void 0:e.protocol]}),Object(m.jsxs)("p",{children:["Protocol Version: ",null===e||void 0===e?void 0:e.protocolVersion]})]})},O=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Errors detected ",null===e||void 0===e?void 0:e.errorsDetected]}),Object(m.jsxs)("p",{children:["Errors corrected ",null===e||void 0===e?void 0:e.errorsCorrected]})]})},v=function(e){var t="w-full h-14";return Object(m.jsxs)("div",{className:"items-center text-center w-full h-full",children:[(null===e||void 0===e?void 0:e.isEnabled)?Object(m.jsx)(p.d,{className:"".concat(t," text-green-400")}):Object(m.jsx)(p.e,{className:"".concat(t," text-red-400")}),Object(m.jsx)("p",{children:"Type: ".concat(null===e||void 0===e?void 0:e.type)})]})},y=function(e){var t=e.menuItems;return Object(m.jsx)("nav",{className:"w-full fixed bottom-0 h-12 shadow-md border border-gray-100 z-10 bg-white",children:Object(m.jsx)("div",{className:"justify-between place-content-center flex flex-row h-full items-center px-12",children:t.map((function(e,t){return Object(m.jsx)(b.b,{to:e.link,children:Object(m.jsxs)("div",{className:"flex flex-col items-center",children:[Object(m.jsx)("span",{children:e.icon}),Object(m.jsx)("p",{className:"uppercase tracking-widest",children:e.title})]})},t)}))})})},N=n(43),w=n.n(N),k=n(32),D=n(44),F=n.n(D),E=function(e){var t=e.videoData,n=Object(r.useState)([]),c=Object(j.a)(n,2),a=c[0],s=c[1];Object(r.useEffect)((function(){setInterval((function(){var e=F()(Date.now()).format("HH:mm:ss").toString();s([].concat(Object(l.a)(a),[e]))}),1e4)}),[a,s]);var i={labels:a,datasets:[{label:"Bitrate",data:t.map((function(e){return e.bitrate})),fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]},o={labels:a,datasets:[{label:"Ping",data:t.map((function(e){return e.ping})),fill:!1,backgroundColor:"rgb(54,232,196)",borderColor:"rgba(76,250,193,0.2)"}]},d={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(k.b,{options:d,data:i,type:"line"}),Object(m.jsx)(k.b,{options:d,data:o,type:"line"})]})},S=function(e){var t=e.data;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("p",{children:"VIDEO DATA"})}),Object(m.jsx)("div",{className:"text-red-500 m-4",children:Object(m.jsx)("p",{children:"The bitrate is the number of bits that are conveyed per unit of time in the data"})}),Object(m.jsx)("div",{className:"text-green-300 m-4",children:Object(m.jsx)("p",{children:"The ping measures the minimum time needed to send the smallest amount of data and receive response"})}),Object(m.jsx)(E,{videoData:null!==t&&void 0!==t?t:[]})]})},V=n(13),P=n(45),L=function(e){var t=e.videoData,n=e.framingData,r=e.encryptionData;return Object(m.jsxs)("div",{className:"w-full px-4 pt-16",children:[Object(m.jsxs)("h1",{className:"text-center text-2xl",children:[Object(m.jsx)(P.a,{className:"mr-2 inline"}),"Previous transmissions"]}),Object(m.jsx)("div",{className:"w-full max-w-md p-2 mx-auto bg-white rounded-2xl",children:Object(m.jsx)(V.a,{as:"div",className:"mt-2",children:function(e){var c=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(V.a.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[Object(m.jsx)("span",{children:"23-05-21 10:00"}),Object(m.jsx)(p.b,{className:"".concat(c?"transform rotate-180":""," w-5 h-5 text-purple-500")})]}),Object(m.jsx)(V.a.Panel,{children:Object(m.jsx)(V.a,{as:"div",className:"mt-2",children:function(e){var n=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(V.a.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[Object(m.jsx)("span",{children:"Video"}),Object(m.jsx)(p.b,{className:"".concat(n?"transform rotate-180":""," w-5 h-5 text-purple-500")})]}),Object(m.jsxs)(V.a.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-500",children:["Ping: ",t&&t[0].ping]})]})}})}),Object(m.jsx)(V.a.Panel,{children:Object(m.jsx)(V.a,{as:"div",className:"mt-2",children:function(e){var t=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(V.a.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[Object(m.jsx)("span",{children:"Framing"}),Object(m.jsx)(p.b,{className:"".concat(t?"transform rotate-180":""," w-5 h-5 text-purple-500")})]}),Object(m.jsxs)(V.a.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-500",children:["Erros corrected: ",n&&n[0].errorsCorrected]})]})}})}),Object(m.jsx)(V.a.Panel,{children:Object(m.jsx)(V.a,{as:"div",className:"mt-2",children:function(e){var t=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(V.a.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[Object(m.jsx)("span",{children:"Encryption"}),Object(m.jsx)(p.b,{className:"".concat(t?"transform rotate-180":""," w-5 h-5 text-purple-500")})]}),Object(m.jsxs)(V.a.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-500",children:["Type: ",r&&r[0].type]})]})}})})]})}})})]})},C=function(e){var t=e.framingData,n=Object(r.useState)([]),c=Object(j.a)(n,2),a=c[0],s=c[1];Object(r.useEffect)((function(){setInterval((function(){var e=F()(Date.now()).format("HH:mm:ss").toString();s([].concat(Object(l.a)(a),[e]))}),1e4)}),[a,s]);var i={labels:a,datasets:[{label:"Eroors detected",data:t.map((function(e){return e.errorsDetected})),backgroundColor:"rgb(246,75,95)"},{label:"Errors corrected",data:t.map((function(e){return e.errorsCorrected})),backgroundColor:"rgb(26,214,220)"}]};return Object(m.jsx)(k.a,{data:i,options:{scales:{yAxes:[{stacked:!0,ticks:{beginAtZero:!0}}],xAxes:[{stacked:!0}]}},type:"bar"})},A=function(e){var t=e.data;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("p",{children:"FRAMING DATA"})}),Object(m.jsx)(C,{framingData:null!==t&&void 0!==t?t:[]})]})},T=n(7),B=n(98),I=function(){var e=Object(B.a)(),t=e.register,n=e.handleSubmit,r=e.formState.errors;console.log(r);var c="w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm";return Object(m.jsxs)("form",{onSubmit:n((function(e){console.log(e),w.a.post("http://localhost:4000/settings",e).then((function(){return console.log("Form data posted")})).catch((function(){return console.log("Failed to post")}))})),className:"my-8 mx-4 pb-8 space-y-4 text-center",children:[Object(m.jsx)("input",Object(T.a)({type:"text",placeholder:"Shared timestamp",className:c},t("Shared timestamp",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Encryption process time",className:c},t("Encryption process time",{}))),Object(m.jsx)("input",Object(T.a)({type:"text",placeholder:"Encryption type",className:c},t("Encryption type",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Encryption encrypted",className:c},t("Encryption encrypted",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Framing process time",className:c},t("Framing process time",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Framing errors detected",className:c},t("Framing errors detected",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Framing errors corrected",className:c},t("Framing errors corrected",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Framing error det rate",className:c},t("Framing error det rate",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Framing error corr rate",className:c},t("Framing error corr rate",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Video max package size",className:c},t("Video max package size",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Video min package size",className:c},t("Video min package size",{}))),Object(m.jsx)("input",Object(T.a)({type:"text",placeholder:"Video protocol version",className:c},t("Video protocol version",{}))),Object(m.jsx)("input",Object(T.a)({type:"text",placeholder:"Video protocol",className:c},t("Video protocol",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Video bit rate",className:c},t("Video bit rate",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Video ping",className:c},t("Video ping",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Link process time",className:c},t("Link process time",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Link video packets received",className:c},t("Link video packets received",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Link video delay",className:c},t("Link video delay",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Link framing errors detected",className:c},t("Link framing errors detected",{}))),Object(m.jsx)("input",Object(T.a)({type:"number",placeholder:"Link framing errors corrected",className:c},t("Link framing errors corrected",{}))),Object(m.jsx)("input",{className:"px-4 py-2 bg-red-400 rounded-lg text-white",type:"submit"})]})},W=[{id:0,title:"History",link:"/history",icon:Object(m.jsx)(P.a,{})},{id:1,title:"Home",link:"/",icon:Object(m.jsx)(p.c,{})},{id:2,title:"Settings",link:"/settings",icon:Object(m.jsx)(p.a,{})}],z=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(j.a)(a,2),i=s[0],p=s[1],x=Object(r.useState)([]),h=Object(j.a)(x,2),g=h[0],O=h[1];function v(e,t,n){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(o.a.mark((function e(t,n,r){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(r);case 2:c=e.sent,30===t.length&&t.shift(),a=[].concat(Object(l.a)(t),[c.data]),n(a),setTimeout((function(){return v(a,n,r)}),1e4);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){v(n,c,"http://10.16.168.189:4000/video"),v(i,p,"http://10.16.168.189:4000/framing"),v(g,O,"http://10.16.168.189:4000/encryption")}),[]),Object(m.jsxs)(b.a,{children:[Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{path:"/video",children:Object(m.jsx)(S,{data:n})}),Object(m.jsx)(u.a,{path:"/framing",children:Object(m.jsx)(A,{data:i})}),"iconClassName",Object(m.jsx)(u.a,{path:"/history",children:Object(m.jsx)(L,{videoData:n,framingData:i,encryptionData:g})}),Object(m.jsx)(u.a,{path:"/settings",children:Object(m.jsx)(I,{})}),Object(m.jsx)(u.a,{path:"/",children:Object(m.jsx)(f,{videoData:n[n.length-1],framingData:i[i.length-1],encryptionData:g[g.length-1]})})]}),Object(m.jsx)(y,{menuItems:W})]})},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var J=function(e){e&&n.e(3).then(n.bind(null,236)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(z,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/link-management-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/link-management-react","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):U(t,e)}))}}(),J(console.log)}},[[235,1,2]]]);
//# sourceMappingURL=main.1d8a2904.chunk.js.map