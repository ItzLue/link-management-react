(this["webpackJsonplink-management-react"]=this["webpackJsonplink-management-react"]||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(43),s=n.n(a),i=(n(105),n(106),n(8)),o=n.n(i),l=n(5),d=n(17),j=n(11),b=n(32),u=n(28),p=n(10),m=n(2),x=[{title:"Video",path:"video"},{title:"Framing",path:"framing"},{title:"Encryption",path:"encryption"}],h=function(e){var t=e.title,n=e.path,c=e.videoData,r=e.framingData,a=e.encryptionData;return Object(m.jsx)(u.b,{to:n,children:Object(m.jsxs)("div",{className:"rounded-2xl border border-gray-100 shadow-md h-48 max-h-48 md:p-8 relative",children:[Object(m.jsx)("h2",{className:"font-medium text-lg",children:t}),"video"===n&&O(c),"framing"===n&&g(r),"encryption"===n&&v(a),Object(m.jsxs)("div",{className:"flex flex-col absolute bottom-0 m-2",children:[Object(m.jsx)("hr",{className:"border-gray-100 w-full"}),Object(m.jsxs)("div",{className:"inline-flex items-center text-gray-500",children:[Object(m.jsx)(b.g,{className:"h-4 w-4 mr-2"}),Object(m.jsx)("p",{children:"Last updated: 5 min ago"})]})]})]})})},f=function(e){var t=e.videoData,n=e.framingData,c=e.encryptionData;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"grid grid-rows-1 md:grid-flow-col px-8 gap-8 h-full mt-8 mb-16",children:x.map((function(e,r){return Object(m.jsx)(h,{title:e.title,path:e.path,videoData:t,framingData:n,encryptionData:c},r)}))})})},O=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Ping: ",null===e||void 0===e?void 0:e.ping]}),Object(m.jsxs)("p",{children:["Bitrate: ",null===e||void 0===e?void 0:e.bitrate]}),Object(m.jsxs)("p",{children:["Proctol: ",null===e||void 0===e?void 0:e.protocol]}),Object(m.jsxs)("p",{children:["Protocol Version: ",null===e||void 0===e?void 0:e.protocolVersion]})]})},g=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Errors detected ",null===e||void 0===e?void 0:e.errorsDetected]}),Object(m.jsxs)("p",{children:["Errors corrected ",null===e||void 0===e?void 0:e.errorsCorrected]})]})},v=function(e){var t="w-full h-14";return Object(m.jsxs)("div",{className:"items-center text-center w-full h-full",children:[(null===e||void 0===e?void 0:e.isEnabled)?Object(m.jsx)(b.e,{className:"".concat(t," text-green-400")}):Object(m.jsx)(b.f,{className:"".concat(t," text-red-400")}),Object(m.jsx)("p",{children:"Type: ".concat(null===e||void 0===e?void 0:e.type)})]})},y=function(e){var t=e.menuItems;return Object(m.jsx)("nav",{className:"w-full fixed bottom-0 h-12 shadow-md border border-gray-100 z-10 bg-white",children:Object(m.jsx)("div",{className:"justify-between place-content-center flex flex-row h-full items-center px-12",children:t.map((function(e,t){return Object(m.jsx)(u.b,{to:e.link,children:Object(m.jsxs)("div",{className:"flex flex-col items-center",children:[Object(m.jsx)("span",{children:e.icon}),Object(m.jsx)("p",{className:"uppercase tracking-widest",children:e.title})]})},t)}))})})},N=n(33),w=n(44),k=n.n(w),D=function(e){var t=e.videoData,n=Object(c.useState)([]),r=Object(j.a)(n,2),a=r[0],s=r[1];Object(c.useEffect)((function(){setInterval((function(){var e=k()(Date.now()).format("HH:mm:ss").toString();s([].concat(Object(l.a)(a),[e]))}),1e4)}),[a,s]);var i={labels:a,datasets:[{label:"Bitrate",data:t.map((function(e){return e.bitrate})),fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]},o={labels:a,datasets:[{label:"Ping",data:t.map((function(e){return e.ping})),fill:!1,backgroundColor:"rgb(54,232,196)",borderColor:"rgba(76,250,193,0.2)"}]},d={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(N.b,{options:d,data:i,type:"line"}),Object(m.jsx)(N.b,{options:d,data:o,type:"line"})]})},F=function(e){var t=e.data;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"w-full px-4 pt-5",children:Object(m.jsx)("h1",{className:"text-center text-2xl",children:"VIDEO DATA"})}),Object(m.jsx)("div",{className:"text-red-500 m-4",children:Object(m.jsx)("p",{children:"The bitrate is the number of bits that are conveyed per unit of time in the data"})}),Object(m.jsx)("div",{className:"text-green-300 m-4",children:Object(m.jsx)("p",{children:"The ping measures the minimum time needed to send the smallest amount of data and receive response"})}),Object(m.jsx)(D,{videoData:null!==t&&void 0!==t?t:[]})]})},S=n(13),E=n(45),C=function(e){var t=e.videoData,n=e.framingData,c=e.encryptionData;return Object(m.jsxs)("div",{className:"w-full px-4 pt-16",children:[Object(m.jsxs)("h1",{className:"text-center text-2xl",children:[Object(m.jsx)(E.a,{className:"mr-2 inline"}),"Previous transmissions"]}),Object(m.jsx)("div",{className:"w-full max-w-md p-2 mx-auto bg-white rounded-2xl",children:Object(m.jsx)(S.a,{as:"div",className:"mt-2",children:function(e){var r=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(S.a.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[Object(m.jsx)("span",{children:"23-05-21 10:00"}),Object(m.jsx)(b.b,{className:"".concat(r?"transform rotate-180":""," w-5 h-5 text-purple-500")})]}),Object(m.jsx)(S.a.Panel,{children:Object(m.jsx)(S.a,{as:"div",className:"mt-2",children:function(e){var n=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(S.a.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[Object(m.jsx)("span",{children:"Video"}),Object(m.jsx)(b.b,{className:"".concat(n?"transform rotate-180":""," w-5 h-5 text-purple-500")})]}),Object(m.jsxs)(S.a.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-500",children:["Ping: ",t&&t[0].ping]})]})}})}),Object(m.jsx)(S.a.Panel,{children:Object(m.jsx)(S.a,{as:"div",className:"mt-2",children:function(e){var t=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(S.a.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[Object(m.jsx)("span",{children:"Framing"}),Object(m.jsx)(b.b,{className:"".concat(t?"transform rotate-180":""," w-5 h-5 text-purple-500")})]}),Object(m.jsxs)(S.a.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-500",children:["Erros corrected: ",n&&n[0].errorsCorrected]})]})}})}),Object(m.jsx)(S.a.Panel,{children:Object(m.jsx)(S.a,{as:"div",className:"mt-2",children:function(e){var t=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(S.a.Button,{className:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[Object(m.jsx)("span",{children:"Encryption"}),Object(m.jsx)(b.b,{className:"".concat(t?"transform rotate-180":""," w-5 h-5 text-purple-500")})]}),Object(m.jsxs)(S.a.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-500",children:["Type: ",c&&c[0].type]})]})}})})]})}})})]})},V=function(e){var t=e.framingData,n=Object(c.useState)([]),r=Object(j.a)(n,2),a=r[0],s=r[1];Object(c.useEffect)((function(){setInterval((function(){var e=k()(Date.now()).format("HH:mm:ss").toString();s([].concat(Object(l.a)(a),[e]))}),1e4)}),[a,s]);var i={labels:a,datasets:[{label:"Corrected errors",data:t.map((function(e){return e.errorsCorrected})),backgroundColor:"rgb(26,214,220)"}]};return Object(m.jsx)(N.a,{data:i,options:{scales:{yAxes:[{stacked:!0,ticks:{beginAtZero:!0}}],xAxes:[{stacked:!0}]}},type:"bar"})},L=function(e){var t=e.data;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"w-full px-4 p-5",children:Object(m.jsx)("h1",{className:"text-center text-2xl",children:"FRAMING DATA"})}),Object(m.jsx)(V,{framingData:null!==t&&void 0!==t?t:[]})]})},P=n(7),A=n(99),T=n(46),B=n.n(T),I=function(){var e=Object(A.a)(),t=e.register,n=e.handleSubmit,c=e.formState.errors;console.log(c);var r="w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm";return Object(m.jsxs)("form",{onSubmit:n((function(e){console.log(e),B.a.post("http://localhost:4000/settings",e).then((function(){return console.log("Form data posted")})).catch((function(){return console.log("Failed to post")}))})),className:"my-8 mx-4 pb-8 space-y-4 text-center",children:[Object(m.jsx)("div",{className:"w-full px-4",children:Object(m.jsxs)("h1",{className:"text-center text-2xl",children:[Object(m.jsx)(b.a,{className:"mr-2 inline"}),"Settings"]})}),Object(m.jsx)("input",Object(P.a)({type:"text",placeholder:"Shared timestamp",className:r},t("Shared timestamp",{}))),Object(m.jsx)("div",{className:"font-bold text-left",children:Object(m.jsx)("p",{children:" Encryption"})}),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Encryption process time",className:r},t("Encryption process time",{}))),Object(m.jsx)("input",Object(P.a)({type:"text",placeholder:"Encryption type",className:r},t("Encryption type",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Encryption encrypted",className:r},t("Encryption encrypted",{}))),Object(m.jsx)("div",{className:"font-bold text-left",children:Object(m.jsx)("p",{children:" Framing "})}),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Framing process time",className:r},t("Framing process time",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Framing errors detected",className:r},t("Framing errors detected",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Framing errors corrected",className:r},t("Framing errors corrected",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Framing error det rate",className:r},t("Framing error det rate",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Framing error corr rate",className:r},t("Framing error corr rate",{}))),Object(m.jsx)("div",{className:"font-bold text-left",children:Object(m.jsx)("p",{children:" Video"})}),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Video max package size",className:r},t("Video max package size",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Video min package size",className:r},t("Video min package size",{}))),Object(m.jsx)("input",Object(P.a)({type:"text",placeholder:"Video protocol version",className:r},t("Video protocol version",{}))),Object(m.jsx)("input",Object(P.a)({type:"text",placeholder:"Video protocol",className:r},t("Video protocol",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Video bit rate",className:r},t("Video bit rate",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Video ping",className:r},t("Video ping",{}))),Object(m.jsx)("div",{className:"font-bold text-left",children:Object(m.jsx)("p",{children:" Link"})}),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Link process time",className:r},t("Link process time",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Link video packets received",className:r},t("Link video packets received",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Link video delay",className:r},t("Link video delay",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Link framing errors detected",className:r},t("Link framing errors detected",{}))),Object(m.jsx)("input",Object(P.a)({type:"number",placeholder:"Link framing errors corrected",className:r},t("Link framing errors corrected",{}))),Object(m.jsx)("input",{className:"px-4 py-2 bg-red-400 rounded-lg text-white",type:"submit"})]})},W=B.a.create({baseURL:"".concat("http://localhost:4000","/"),timeout:2e3}),z=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"w-full px-4 p-20",children:Object(m.jsxs)("h1",{className:"text-center text-2xl",children:["Connection to server failed ",Object(m.jsx)(b.c,{})]})})})},H=n(100),U=[{id:0,title:"History",link:"/history",icon:Object(m.jsx)(E.a,{})},{id:1,title:"Home",link:"/",icon:Object(m.jsx)(b.d,{})},{id:2,title:"Settings",link:"/settings",icon:Object(m.jsx)(b.a,{})}],R=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(j.a)(a,2),i=s[0],b=s[1],x=Object(c.useState)([]),h=Object(j.a)(x,2),O=h[0],g=h[1],v=Object(c.useState)(-1),N=Object(j.a)(v,2),w=N[0],k=N[1],D=Object(c.useState)(!0),S=Object(j.a)(D,2);S[0],S[1];function E(e,t,n){return V.apply(this,arguments)}function V(){return(V=Object(d.a)(o.a.mark((function e(t,n,c){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get(c);case 2:if(r=e.sent,30===t.length&&t.shift(),a=[].concat(Object(l.a)(t),[null===r||void 0===r?void 0:r.data]),n(a),200!==r.status){e.next=9;break}return e.next=9,Object(H.a)(c,a);case 9:setTimeout((function(){return E(a,n,c)}),1e4);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){W.get("video").then((function(e){return k(e.status)})).catch((function(e){return e.status?k(e.status):k(600)})),200===w&&(E(n,r,"video").catch((function(){return console.log("Could not connect to server")})),E(i,b,"framing").catch((function(){return console.log("Could not connect to server")})),E(O,g,"encryption").catch((function(){return console.log("Could not connect to server")})))}),[]),Object(m.jsxs)(u.a,{children:[Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:"/video",children:w>400?Object(m.jsx)(z,{}):Object(m.jsx)(F,{data:n})}),Object(m.jsx)(p.a,{path:"/framing",children:w>400?Object(m.jsx)(z,{}):Object(m.jsx)(L,{data:i})}),"iconClassName",Object(m.jsxs)(p.a,{path:"/history",children:[w>400&&Object(m.jsx)(z,{}),200===w&&Object(m.jsx)(C,{videoData:n,framingData:i,encryptionData:O})]}),Object(m.jsx)(p.a,{path:"/settings",children:Object(m.jsx)(I,{})}),Object(m.jsx)(p.a,{path:"/",children:w>400?Object(m.jsx)(z,{}):Object(m.jsx)(f,{videoData:n[n.length-1],framingData:i[i.length-1],encryptionData:O[O.length-1]})})]}),Object(m.jsx)(y,{menuItems:U})]})},J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Z=function(e){e&&n.e(3).then(n.bind(null,237)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(R,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/link-management-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/link-management-react","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):M(t,e)}))}}(),Z()}},[[236,1,2]]]);
//# sourceMappingURL=main.9b56b6e0.chunk.js.map